"use client";

import { cn } from "@/lib/utils";

type LogoProps = {
    processState?: "idle" | "active";
    className?: string;
};

const BackLayer = ({ className }: { className?: string }) => (
    <svg
        aria-hidden
        viewBox="0 0 319 377"
        className={className}
        xmlns="http://www.w3.org/2000/svg"
    >
        <path
            fillRule="evenodd"
            clipRule="evenodd"
            d="M319 100V277C319 332.192 274.192 377 219 377H100C44.808 377 0 332.192 0 277V100C0 44.808 44.808 0 100 0H219C274.192 0 319 44.808 319 100Z"
            fill="url(#logo_back_gradient)"
        />
        <defs>
            <linearGradient
                id="logo_back_gradient"
                x1="159.5"
                y1="0"
                x2="159.5"
                y2="377"
                gradientUnits="userSpaceOnUse"
            >
                <stop stopColor="#FFDBC4" stopOpacity="1" />
                <stop offset="1" stopColor="#FFEBDF" stopOpacity="1" />
            </linearGradient>
        </defs>
    </svg>
);

const FrontLayer = ({ className }: { className?: string }) => (
    <svg
        aria-hidden
        viewBox="0 0 320 378"
        className={className}
        xmlns="http://www.w3.org/2000/svg"
    >
        <path
            fillRule="evenodd"
            clipRule="evenodd"
            d="M319.407 100.127V277.354C319.407 332.616 274.541 377.481 219.28 377.482H100.128C44.8658 377.482 0.000361996 332.616 3.5712e-06 277.355L0 100.128C0.000350136 44.8662 44.8663 0.000759188 100.127 0.00039925L219.279 0C274.541 0.000348162 319.407 44.8662 319.407 100.127Z"
            fill="url(#logo_front_gradient)"
        />
        <path
            fillRule="evenodd"
            clipRule="evenodd"
            d="M67.2795 220.792C67.2731 220.783 67.275 220.794 67.275 220.794C59.1712 224.327 49.7484 220.714 46.229 212.724C42.7121 204.74 46.4186 195.408 54.5096 191.869L54.5301 191.861L54.68 191.794C55.9017 191.238 57.1142 190.662 58.317 190.067C60.8491 188.816 64.4107 186.966 68.4346 184.617C76.7014 179.793 85.9952 173.392 92.5774 166.316C99.7501 158.604 103.387 151.921 107.621 143.826C111.967 135.52 117 125.575 126.761 114.369C137.934 101.543 155.099 93.785 167.398 89.3598C172.851 87.4045 178.395 85.7108 184.01 84.2844C186.148 83.7418 187.901 83.3383 189.15 83.0659C189.788 82.9263 190.428 82.7929 191.068 82.6659L191.203 82.6381L191.25 82.6308L191.267 82.6271L191.274 82.6253L191.28 82.6247C199.968 80.9758 208.315 86.5946 209.925 95.1732C211.534 103.747 205.807 112.031 197.13 113.687L197.117 113.691L197.102 113.693L196.883 113.737C196.54 113.806 196.197 113.879 195.855 113.954C194.924 114.157 193.528 114.477 191.781 114.921C188.269 115.813 183.434 117.184 178.165 119.08C166.964 123.111 156.458 128.596 150.944 134.925C143.929 142.978 140.396 149.846 136.018 158.215C131.531 166.795 126.289 176.651 116.063 187.648C106.348 198.092 93.9327 206.366 84.5645 211.834C80.6086 214.143 76.5747 216.315 72.4698 218.347C70.9347 219.105 69.685 219.695 68.796 220.107C68.3504 220.312 67.9946 220.474 67.7383 220.589L67.429 220.727L67.3316 220.769L67.2984 220.785L67.2854 220.79L67.2795 220.792ZM97.9309 256.647L97.9263 256.649C89.8117 260.157 80.401 256.515 76.9057 248.515C73.4124 240.519 77.1494 231.196 85.2535 227.683L85.2684 227.677L85.4186 227.611C85.5669 227.545 85.8084 227.437 86.1343 227.287C86.7867 226.987 87.776 226.524 89.03 225.908C91.5459 224.674 95.0838 222.848 99.0803 220.528C107.295 215.761 116.511 209.438 123.019 202.444C130.115 194.818 133.703 188.204 137.891 180.164C142.189 171.913 147.177 162.007 156.884 150.865C168.014 138.089 185.141 130.416 197.382 126.057C202.816 124.129 208.339 122.463 213.933 121.062C216.062 120.53 217.811 120.135 219.056 119.868C219.548 119.762 220.041 119.66 220.535 119.562C220.715 119.525 220.86 119.498 220.967 119.477L221.102 119.451L221.148 119.442L221.165 119.439L221.173 119.437C221.176 119.437 221.178 119.437 221.18 119.437C229.872 117.821 238.198 123.471 239.776 132.055C241.353 140.639 235.587 148.906 226.898 150.523L226.883 150.527L226.665 150.57C226.324 150.639 225.983 150.71 225.643 150.783C224.718 150.981 223.329 151.294 221.59 151.729C217.013 152.873 212.494 154.236 208.048 155.812C196.898 159.783 186.495 165.191 181.067 171.421C174.128 179.387 170.645 186.187 166.313 194.504C161.872 203.032 156.674 212.847 146.5 223.782C136.833 234.169 124.467 242.372 115.145 247.783C111.206 250.069 107.19 252.219 103.103 254.227C101.544 254.993 99.9727 255.732 98.3889 256.445L98.0801 256.581L97.9829 256.624L97.9364 256.644L97.9309 256.647ZM261.531 185.877L261.503 185.882L261.284 185.926C260.941 185.996 260.598 186.068 260.256 186.143C259.325 186.347 257.929 186.666 256.182 187.11C252.67 188.003 247.835 189.373 242.566 191.269C231.365 195.3 220.858 200.785 215.345 207.115C208.33 215.167 204.797 222.035 200.419 230.404C195.931 238.984 190.69 248.84 180.463 259.837C170.749 270.282 158.334 278.556 148.964 284.024C145.009 286.332 140.975 288.504 136.871 290.536C135.306 291.31 133.729 292.057 132.139 292.778L131.83 292.916L131.732 292.958L131.699 292.973L131.686 292.979L131.68 292.981C131.673 292.971 131.675 292.984 131.675 292.984C123.572 296.516 114.149 292.903 110.629 284.913C107.112 276.93 110.82 267.598 118.91 264.058L118.93 264.05L119.081 263.983C119.23 263.916 119.473 263.806 119.802 263.655C120.459 263.35 121.456 262.88 122.717 262.256C126.151 260.556 129.526 258.738 132.836 256.807C141.102 251.982 150.396 245.582 156.978 238.505C164.15 230.793 167.788 224.111 172.022 216.015C176.366 207.709 181.4 197.764 191.162 186.559C202.334 173.733 219.499 165.974 231.799 161.549C237.252 159.593 242.795 157.9 248.41 156.474C250.548 155.931 252.302 155.528 253.551 155.255C254.189 155.116 254.829 154.983 255.469 154.855L255.603 154.828L255.649 154.82L255.668 154.816L255.675 154.815L255.681 154.814C264.367 153.165 272.716 158.784 274.326 167.363C275.935 175.936 270.209 184.222 261.531 185.877Z"
            fill="#DB5400"
        />
        <defs>
            <linearGradient
                id="logo_front_gradient"
                x1="159.703"
                y1="-0.00126825"
                x2="159.703"
                y2="377.481"
                gradientUnits="userSpaceOnUse"
            >
                <stop stopColor="#FF7017" stopOpacity="1" />
                <stop offset="1" stopColor="#FF8B42" stopOpacity="1" />
            </linearGradient>
        </defs>
    </svg>
);

export function Logo({ processState = "idle", className }: LogoProps) {
    const isActive = processState === "active";

    return (
        <div className={cn("group relative inline-block w-40", className)}>
            <div className="relative w-full">
                <BackLayer className="w-full h-auto" />
                <FrontLayer
                    className={cn(
                        "absolute inset-0 h-auto w-full origin-center transform-gpu transition-transform duration-300 ease-in-out will-change-transform pointer-events-none",
                        "group-hover:rotate-15 group-hover:translate-x-8",
                        isActive && "rotate-15 translate-x-8",
                    )}
                />
            </div>
        </div>
    );
}
